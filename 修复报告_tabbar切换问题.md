# TabBar åˆ‡æ¢é—®é¢˜ä¿®å¤ - æœ€ç»ˆæŠ¥å‘Š

## ğŸ¯ é—®é¢˜æ€»ç»“

**ç”¨æˆ·åé¦ˆ**ï¼š
- âœ… åº•éƒ¨ä»»åŠ¡æ ï¼ˆtabBarï¼‰å·²ç»æ­£å¸¸æ˜¾ç¤º
- âŒ ç‚¹å‡» tabBar åˆ‡æ¢é¡µé¢æ—¶ï¼Œå…¨éƒ¨æç¤º"ç½‘ç»œé—®é¢˜ä¸æ˜¾ç¤º"

## ğŸ” æ’æŸ¥ç»“æœ

### å·²æ£€æŸ¥é¡¹ç›®ï¼š

1. **pages.json é…ç½®** âœ…
   - tabBar.custom: falseï¼ˆä½¿ç”¨åŸç”Ÿ tabBarï¼‰
   - 5 ä¸ª tabBar é¡µé¢é…ç½®æ­£ç¡®
   - æ‰€æœ‰é¡µé¢éƒ½åœ¨ä¸»åŒ…ä¸­

2. **é¡µé¢æ–‡ä»¶** âœ…
   - src/pages/home/index.vue âœ…
   - src/pages/task/index.vue âœ…
   - src/pages/wish/index.vue âœ…
   - src/pages/family/index.vue âœ…
   - src/pages/profile/index.vue âœ…

3. **é¡µé¢ä»£ç ** âœ…
   - æ— è¯­æ³•é”™è¯¯
   - ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä½¿ç”¨æ­£ç¡®
   - ç½‘ç»œè¯·æ±‚æœ‰é”™è¯¯å¤„ç†

4. **åç«¯æœåŠ¡** âœ…
   - API æœåŠ¡æ­£å¸¸è¿è¡Œ (localhost:8099)
   - æ•°æ®åº“è¿æ¥æ­£å¸¸
   - å“åº”æ•°æ®æ­£å¸¸

5. **vite é…ç½®** âœ…
   - ä»£ç†é…ç½®æ­£ç¡®
   - H5 è·¯ç”±æ¨¡å¼ä¸º hash
   - ç«¯å£é…ç½®æ­£ç¡®

### å‘ç°çš„é—®é¢˜ï¼š

**preloadRule é…ç½®å¹²æ‰°** âš ï¸

åœ¨ `pages.json` ä¸­å‘ç°ï¼š
```json
"preloadRule": {
  "pages/home/index": {
    "network": "all",
    "packages": ["pages/task", "pages/wish"]
  }
}
```

**å½±å“**ï¼š
- preloadRule ç”¨äºé¢„åŠ è½½åˆ†åŒ…
- åœ¨ H5 ç¯å¢ƒä¸‹å¯èƒ½å¹²æ‰° tabBar é¡µé¢åˆ‡æ¢
- å¯èƒ½å¯¼è‡´é¡µé¢åŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤º"ç½‘ç»œé—®é¢˜"

## âœ… å·²åº”ç”¨çš„ä¿®å¤

### 1. ç§»é™¤ preloadRule é…ç½®

**æ–‡ä»¶**ï¼š`src/pages.json`

**æ“ä½œ**ï¼š
```bash
# ä½¿ç”¨ Python è„šæœ¬ç§»é™¤ preloadRule
python3 << 'EOF'
import json
with open('src/pages.json', 'r') as f:
    data = json.load(f)
if 'preloadRule' in data:
    del data['preloadRule']
with open('src/pages.json', 'w') as f:
    json.dump(data, f, indent=2, ensure_ascii=False)
EOF
```

### 2. é‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
cd /Users/qi/.openclaw/workspace/family-app/frontend
npm run dev:h5
```

æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3001/

## ğŸ§ª éªŒè¯æ­¥éª¤

### 1. è®¿é—®é¦–é¡µ
http://localhost:3001/

### 2. ç‚¹å‡»æ¯ä¸ª tab æµ‹è¯•åˆ‡æ¢
- é¦–é¡µ
- ä»»åŠ¡
- å¿ƒæ„¿
- å®¶åº­
- æˆ‘çš„

### 3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
- æ‰“å¼€ DevTools (F12)
- æŸ¥çœ‹ Console æ ‡ç­¾
- ç¡®è®¤æ²¡æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

## ğŸ“ å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

### å¯èƒ½çš„åŸå› ï¼š

1. **æµè§ˆå™¨ç¼“å­˜**
   - è§£å†³æ–¹æ¡ˆï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜
   - Chrome DevTools â†’ Application â†’ Clear storage â†’ Clear site data

2. **Vite HMR é—®é¢˜**
   - è§£å†³æ–¹æ¡ˆï¼šå¼ºåˆ¶åˆ·æ–°é¡µé¢
   - Windows: Ctrl + F5
   - Mac: Cmd + Shift + R

3. **ç½‘ç»œä»£ç†é—®é¢˜**
   - è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ vite.config.js ä¸­çš„ä»£ç†é…ç½®

4. **è‡ªå®šä¹‰ tabBar æ–¹æ¡ˆ**ï¼ˆå¤‡é€‰ï¼‰
   å¦‚æœåŸç”Ÿ tabBar ä»ç„¶æœ‰é—®é¢˜ï¼Œå¯ä»¥æ”¹ä¸ºè‡ªå®šä¹‰ tabBarï¼š
   
   a. ä¿®æ”¹ `pages.json`ï¼š
   ```json
   "tabBar": {
     "custom": true,
     ...
   }
   ```
   
   b. ä¿®æ”¹ `App.vue`ï¼Œæ·»åŠ è‡ªå®šä¹‰ tabBar ç»„ä»¶

## ğŸ“Š æ’æŸ¥æ¸…å•

| é¡¹ç›® | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| pages.json é…ç½® | âœ… | tabBar é…ç½®æ­£ç¡® |
| é¡µé¢æ–‡ä»¶å­˜åœ¨ | âœ… | 5 ä¸ªé¡µé¢æ–‡ä»¶é½å…¨ |
| é¡µé¢ä»£ç è¯­æ³• | âœ… | æ— é”™è¯¯ |
| åç«¯ API | âœ… | æœåŠ¡æ­£å¸¸ |
| vite é…ç½® | âœ… | ä»£ç†æ­£ç¡® |
| preloadRule | âœ… | å·²ç§»é™¤ |
| å›¾æ ‡æ–‡ä»¶ | âœ… | 10 ä¸ª SVG é½å…¨ |
| å¼€å‘æœåŠ¡å™¨ | âœ… | ç«¯å£ 3001 è¿è¡Œä¸­ |

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `src/pages.json` - tabBar é…ç½®
- `src/App.vue` - åº”ç”¨å…¥å£
- `TABBAR_SWITCH_FIX_REPORT.md` - è¯¦ç»†æ’æŸ¥æŠ¥å‘Š
- `DEVELOPMENT_TRACKING.md` - å¼€å‘ä»»åŠ¡è¿½è¸ª

## ğŸ“ åç»­æ”¯æŒ

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›ï¼š
1. æµè§ˆå™¨æ§åˆ¶å°æˆªå›¾
2. Network æ ‡ç­¾çš„å¤±è´¥è¯·æ±‚æˆªå›¾
3. å…·ä½“çš„é”™è¯¯ä¿¡æ¯æ–‡æœ¬

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2026-02-23 14:00  
**çŠ¶æ€**ï¼šå·²ä¿®å¤ï¼Œç­‰å¾…éªŒè¯
