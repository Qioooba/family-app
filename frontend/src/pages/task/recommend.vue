<template>
  <view class="page-container">
    <view class="header">
      <view class="header-left" @click="goBack"><text>‚Äπ</text></text>
      <view class="header-title">Êé®Ëçê‰ªªÂä°</view>
    </view>
    
    <view class="recommend-section"
>
      <view class="section-header"
>
        <text class="section-title">‰∏∫ÊÇ®Êé®Ëçê</text>
        <text class="section-subtitle">Âü∫‰∫éÊÇ®ÁöÑ‰π†ÊÉØÊô∫ËÉΩÊé®Ëçê</text>
      </view>
      
      <view class="recommend-list"
>
        <view v-for="item in recommendations" :key="item.id" class="recommend-card"
>
          <view class="card-image" :style="{ background: item.color }">
            <text>{{ item.icon }}</text>
          </view>
          
          <view class="card-content"
>
            <text class="card-title">{{ item.title }}</text>
            <text class="card-reason">{{ item.reason }}</text>
            <view class="card-tags"
>
              <text v-for="tag in item.tags" :key="tag" class="tag">{{ tag }}</text>
            </view>
          </view>
          
          <view class="add-btn" @click="addTask(item)"
+ Ê∑ªÂä†</view>
        </view>
      </view>
    </view>
    
    <view class="history-section"
>
      <view class="section-title">üìà ÂéÜÂè≤Ë∂ãÂäø</view>
      
      <view class="trend-chart"
>
        <view v-for="(bar, index) in trends" :key="index" class="trend-bar"
>
          <view class="bar-fill" :style="{ height: bar.value + '%', background: bar.color }"></text>
          <text class="bar-label">{{ bar.day }}</text>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup>
import { ref } from 'vue'

const recommendations = ref([
  { id: 1, title: 'Êô®Ë∑ë5ÂÖ¨Èáå', icon: 'üèÉ', color: '#10B981', reason: 'ÊÇ®ÁªèÂ∏∏Êó©Êô®ËøêÂä®', tags: ['ÂÅ•Â∫∑', 'ËøêÂä®'] },
  { id: 2, title: 'ËØª30ÂàÜÈíü‰π¶', icon: 'üìö', color: '#8B5CF6', reason: 'ÊÇ®ÁöÑÈòÖËØª‰π†ÊÉØÂæàÂ•Ω', tags: ['Â≠¶‰π†', 'ÊàêÈïø'] },
  { id: 3, title: 'Êï¥ÁêÜÊàøÈó¥', icon: 'üßπ', color: '#F59E0B', reason: 'Âª∫ËÆÆÊØèÂë®Ê∏ÖÊ¥Å‰∏ÄÊ¨°', tags: ['ÂÆ∂Âä°'] }
])

const trends = ref([
  { day: '‰∏Ä', value: 60, color: '#3B82F6' },
  { day: '‰∫å', value: 80, color: '#3B82F6' },
  { day: '‰∏â', value: 45, color: '#3B82F6' },
  { day: 'Âõõ', value: 90, color: '#10B981' },
  { day: '‰∫î', value: 70, color: '#3B82F6' },
  { day: 'ÂÖ≠', value: 30, color: '#EF4444' },
  { day: 'Êó•', value: 40, color: '#EF4444' }
])

const addTask = (item) => {
  uni.showToast({ title: 'Â∑≤Ê∑ªÂä†Âà∞‰ªªÂä°', icon: 'success' })
}

const goBack = () => uni.navigateBack()
</script>

<style lang="scss" scoped>
.page-container { min-height: 100vh; background: #F8FAFC; }
.header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 50px 20px 20px;
  background: linear-gradient(135deg, #8B5CF6, #7C3AED);
  .header-left { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; }
  .header-left text { font-size: 32px; color: #fff; }
  .header-title { font-size: 20px; font-weight: 600; color: #fff; }
}
.recommend-section { padding: 20px; }
.section-header { margin-bottom: 20px; }
.section-title { font-size: 18px; font-weight: 700; color: #1F2937; display: block; margin-bottom: 4px; }
.section-subtitle { font-size: 13px; color: #9CA3AF; }
.recommend-list { display: flex; flex-direction: column; gap: 12px; }
.recommend-card { display: flex; align-items: center; gap: 16px; background: #fff; border-radius: 16px; padding: 16px; }
.card-image { width: 60px; height: 60px; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 28px; }
.card-content { flex: 1; }
.card-title { font-size: 16px; font-weight: 600; color: #1F2937; display: block; margin-bottom: 4px; }
.card-reason { font-size: 13px; color: #9CA3AF; display: block; margin-bottom: 8px; }
.card-tags { display: flex; gap: 6px; }
.tag { font-size: 11px; padding: 4px 10px; background: #F3F4F6; color: #6B7280; border-radius: 10px; }
.add-btn { padding: 10px 20px; background: linear-gradient(135deg, #8B5CF6, #7C3AED); color: #fff; border-radius: 20px; font-size: 14px; font-weight: 500; }
.history-section { padding: 0 20px 20px; }
.trend-chart { display: flex; justify-content: space-around; align-items: flex-end; height: 150px; background: #fff; border-radius: 16px; padding: 20px; }
.trend-bar { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.bar-fill { width: 24px; border-radius: 12px; transition: height 0.5s; }
.bar-label { font-size: 12px; color: #6B7280; }
</style>
