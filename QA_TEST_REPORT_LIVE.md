# Family App åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š

## æµ‹è¯•ä¿¡æ¯
- **æµ‹è¯•æ—¶é—´**: 2026-02-23 02:48
- **æµ‹è¯•ç›®æ ‡**: http://localhost:3000 (å‰ç«¯) + åç«¯å¾®æœåŠ¡
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: QAæµ‹è¯•å›¢é˜Ÿ
- **æµ‹è¯•å‘¨æœŸ**: 40åˆ†é’Ÿ

## é¡¹ç›®æ¦‚å†µ
- **é¡¹ç›®åç§°**: family-app (å®¶åº­ç®¡ç†å¹³å°)
- **å‰ç«¯**: Vue 3 + UniApp + Vite
- **åç«¯**: Spring Boot å¾®æœåŠ¡æ¶æ„
- **åŠŸèƒ½æ¨¡å—**: 14ä¸ªæ ¸å¿ƒæ¨¡å—
- **å‰ç«¯é¡µé¢**: 80+ ä¸ªé¡µé¢ (pages.json 815è¡Œ)

---

## æœåŠ¡çŠ¶æ€æ£€æŸ¥

### å‰ç«¯æœåŠ¡ âœ…
- å‰ç«¯å¼€å‘æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000
- Vite HMR æ­£å¸¸å·¥ä½œ
- é¡µé¢ç»“æ„å®Œæ•´

### åç«¯å¾®æœåŠ¡ âœ…
| æœåŠ¡ | ç«¯å£ | çŠ¶æ€ | å¥åº·æ£€æŸ¥ |
|------|------|------|----------|
| user-service | 8081 | âœ… è¿è¡Œä¸­ | âœ… UP |
| task-service | 8083 | âœ… è¿è¡Œä¸­ | âœ… UP |
| notify-service | 8093 | âœ… è¿è¡Œä¸­ | âœ… UP |
| food-service | 8090 | âœ… è¿è¡Œä¸­ | âœ… UP |
| ai-service | 8091 | âœ… è¿è¡Œä¸­ | âœ… UP |
| message-service | 8092 | âœ… è¿è¡Œä¸­ | âœ… UP |
| file-service | 8094 | âœ… è¿è¡Œä¸­ | âœ… UP |
| anniversary-service | 8087 | âœ… è¿è¡Œä¸­ | âœ… UP |
| vote-service | 8086 | âœ… è¿è¡Œä¸­ | âœ… UP |
| recipe-service | 8085 | âœ… è¿è¡Œä¸­ | âœ… UP |
| health-service | 8089 | âœ… è¿è¡Œä¸­ | âœ… UP |
| calendar-service | 8088 | âœ… è¿è¡Œä¸­ | âœ… UP |
| wish-service | 8084 | âœ… è¿è¡Œä¸­ | âœ… UP |
| family-gateway | 8099 | âœ… è¿è¡Œä¸­ | âš ï¸ 500é”™è¯¯ |
| family-service | 8082 | âŒ æœªè¿è¡Œ | - |

---

## APIåŠŸèƒ½æµ‹è¯•ç»“æœ

### âœ… ç”¨æˆ·æœåŠ¡ (User Service) - 8081
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|
| /user/register | POST | âœ… æ­£å¸¸ | æ³¨å†Œç”¨æˆ·æˆåŠŸ |
| /user/login | POST | âœ… æ­£å¸¸ | ç™»å½•æˆåŠŸï¼Œè¿”å›token |
| /user/info | GET | âœ… æ­£å¸¸ | è·å–ç”¨æˆ·ä¿¡æ¯ |

**æµ‹è¯•è´¦å·**: 
- ç”¨æˆ·å: testuser789
- å¯†ç : 123456
- Token: 58737a27-e03e-4513-bcad-f4e67e8aba1d

### âŒ ä»»åŠ¡æœåŠ¡ (Task Service) - 8083
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/task/list | GET | âŒ 400 | Bad Request |
| /api/task | POST | âŒ 400 | Bad Request |

**é—®é¢˜åˆ†æ**: åç«¯Controllerå®ç°ä¸å®Œæ•´ï¼Œå¯èƒ½ç¼ºå°‘å‚æ•°å¤„ç†

### âŒ çºªå¿µæ—¥æœåŠ¡ (Anniversary Service) - 8087
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/anniversary/list | GET | âŒ 400 | Bad Request |

### âŒ å¿ƒæ„¿æœåŠ¡ (Wish Service) - 8084
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/wish/list | GET | âŒ 400 | Bad Request |

### âŒ æŠ•ç¥¨æœåŠ¡ (Vote Service) - 8086
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/vote/list | GET | âŒ 405 | Method Not Allowed |

### âŒ èœè°±æœåŠ¡ (Recipe Service) - 8085
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/recipe/list | GET | âŒ 404 | Not Found |

### âŒ é£ŸææœåŠ¡ (Food Service) - 8090
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/ingredient/list/1 | GET | âŒ 404 | Not Found |

### âŒ AIæœåŠ¡ (AI Service) - 8091
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /api/ai/chat | POST | âŒ 500 | Internal Server Error |

**é—®é¢˜åˆ†æ**: AIæœåŠ¡å¯èƒ½ç¼ºå°‘APIå¯†é’¥é…ç½®æˆ–å†…éƒ¨é€»è¾‘é”™è¯¯

### âŒ ç½‘å…³æœåŠ¡ (Gateway) - 8099
| æ¥å£ | æ–¹æ³• | çŠ¶æ€ | é—®é¢˜ |
|------|------|------|------|
| /actuator/health | GET | âŒ 500 | ç³»ç»Ÿç¹å¿™ |
| /api/family/list | GET | âŒ 401 | ç™»å½•å·²è¿‡æœŸ |

**é—®é¢˜åˆ†æ**: 
1. ç½‘å…³ç¼ºå°‘user-serviceè·¯ç”±é…ç½®
2. TokenéªŒè¯å¯èƒ½å­˜åœ¨é—®é¢˜
3. å¥åº·æ£€æŸ¥ç«¯ç‚¹é…ç½®é”™è¯¯

---

## ğŸ› Bugåˆ—è¡¨

### ä¸¥é‡é—®é¢˜ (Critical)
| åºå· | é—®é¢˜æè¿° | å½±å“ | æ¨¡å— |
|------|---------|------|------|
| 1 | å¤§å¤šæ•°åç«¯APIè¿”å›400/404/500é”™è¯¯ | åŠŸèƒ½æ— æ³•ä½¿ç”¨ | åç«¯æœåŠ¡ |
| 2 | ç½‘å…³æœåŠ¡æœªæ­£ç¡®é…ç½®è·¯ç”± | APIè°ƒç”¨å¤±è´¥ | Gateway |
| 3 | AIæœåŠ¡500é”™è¯¯ | AIåŠŸèƒ½æ— æ³•ä½¿ç”¨ | AI Service |

### ä¸­ç­‰é—®é¢˜ (Major)
| åºå· | é—®é¢˜æè¿° | å½±å“ | æ¨¡å— |
|------|---------|------|------|
| 4 | TaskControllerå®ç°è¿‡äºç®€å• | ä»»åŠ¡åŠŸèƒ½ä¸å®Œæ•´ | Task Service |
| 5 | ç½‘å…³ç¼ºå°‘user-serviceè·¯ç”± | ç”¨æˆ·APIæ— æ³•é€šè¿‡ç½‘å…³è®¿é—® | Gateway |
| 6 | Swaggeræ–‡æ¡£æ— æ³•è®¿é—® | APIæ–‡æ¡£ç¼ºå¤± | æ‰€æœ‰æœåŠ¡ |

### è½»å¾®é—®é¢˜ (Minor)
| åºå· | é—®é¢˜æè¿° | å»ºè®®æ”¹è¿› | æ¨¡å— |
|------|---------|---------|------|
| 7 | å‰ç«¯è¯·æ±‚å·¥å…·é…ç½®äº†é”™è¯¯çš„BASE_URL | æ”¹ä¸ºæ­£ç¡®çš„ç½‘å…³åœ°å€ | Frontend |
| 8 | family-serviceæœªå¯åŠ¨ | æ£€æŸ¥å¯åŠ¨è„šæœ¬ | Backend |

---

## ğŸ“Š æ•°æ®å®Œæ•´æ€§æ£€æŸ¥

### æ•°æ®åº“è¿æ¥
- âœ… MySQLè¿æ¥æ­£å¸¸
- âœ… Redisè¿æ¥æ­£å¸¸

### ç”¨æˆ·æ•°æ®
- âœ… ç”¨æˆ·æ³¨å†Œæ•°æ®æ­£å¸¸å†™å…¥
- âœ… ç”¨æˆ·ç™»å½•éªŒè¯æ­£å¸¸

### APIå“åº”æ ¼å¼
- âœ… ç»Ÿä¸€è¿”å›æ ¼å¼ {code, message, data, timestamp}
- âš ï¸ é”™è¯¯å¤„ç†éœ€å®Œå–„

---

## ğŸ¨ å‰ç«¯åŠŸèƒ½æ£€æŸ¥

### é¡µé¢ç»“æ„ âœ…
- ç™»å½•é¡µé¢: pages/login/index.vue
- æ³¨å†Œé¡µé¢: pages/register/index.vue
- é¦–é¡µ: pages/home/index.vue
- ä»»åŠ¡: pages/task/ (åŒ…å«schedule, create, detailç­‰å­é¡µé¢)
- å¿ƒæ„¿: pages/wish/ (åŒ…å«create, detail, budget, milestone)
- å®¶åº­: pages/family/index.vue
- ä¸ªäººä¸­å¿ƒ: pages/profile/index.vue
- AI: pages/ai/
- æŠ•ç¥¨: pages/vote/
- è´­ç‰©: pages/shopping/
- æ•°æ®çœ‹æ¿: pages/dashboard/
- å®¶åº­åœˆ: pages/moments/
- æ¸¸æˆ: pages/game/
- æ—¥å†: pages/calendar/
- è´ºå¡: pages/card/
- æ›´å¤š...

### å‰ç«¯è·¯ç”±é…ç½®
- âœ… pages.json é…ç½®å®Œæ•´ï¼Œå…±815è¡Œ
- âœ… åŒ…å«ä¸»åŒ…å’Œåˆ†åŒ…é…ç½®
- âœ… è‡ªå®šä¹‰å¯¼èˆªæ æ ·å¼ç»Ÿä¸€

---

## ğŸ”§ æŠ€æœ¯é—®é¢˜åˆ†æ

### 1. åç«¯Controllerå®ç°é—®é¢˜
```java
// å½“å‰å®ç° (è¿‡äºç®€å•)
@GetMapping("/list")
public List<Object> list() {
    return new ArrayList<>();
}
```

**å»ºè®®**: éœ€è¦å®Œæ•´çš„CRUDå®ç°ï¼ŒåŒ…æ‹¬å‚æ•°æ ¡éªŒã€ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åº“æ“ä½œ

### 2. ç½‘å…³è·¯ç”±é…ç½®ç¼ºå¤±
```yaml
# å½“å‰é…ç½®åªåŒ…å«taskå’Œfamilyè·¯ç”±
routes:
  - id: task-service
    uri: http://localhost:8083
    predicates:
      - Path=/api/task/**
  - id: family-service
    uri: http://localhost:8082
    predicates:
      - Path=/api/family/**
```

**å»ºè®®**: æ·»åŠ æ‰€æœ‰æœåŠ¡çš„è·¯ç”±é…ç½®

### 3. APIè·¯å¾„ä¸ä¸€è‡´
- å‰ç«¯æœŸæœ›: `/api/task/list`
- åç«¯å®é™…: Controllerå­˜åœ¨ä½†è¿”å›400

**å»ºè®®**: ç»Ÿä¸€APIè·¯å¾„è§„èŒƒ

---

## ğŸ“ˆ æµ‹è¯•ç»Ÿè®¡

| ç»Ÿè®¡é¡¹ | æ•°å€¼ |
|--------|------|
| æµ‹è¯•æ€»æ—¶é•¿ | ~10åˆ†é’Ÿ |
| åç«¯æœåŠ¡æ•°é‡ | 14ä¸ª |
| æ­£å¸¸è¿è¡ŒæœåŠ¡ | 13ä¸ª |
| åŠŸèƒ½æ­£å¸¸API | 3ä¸ª |
| é—®é¢˜API | 10+ä¸ª |
| å‰ç«¯é¡µé¢æ•°é‡ | 80+ä¸ª |
| å‘ç°Bugæ•°é‡ | 8ä¸ª |

---

## ğŸ“ æ€»ç»“

### å½“å‰çŠ¶æ€
- âœ… åŸºç¡€æ¶æ„å®Œæ•´ (å‰ç«¯+åç«¯å¾®æœåŠ¡)
- âœ… ç”¨æˆ·è®¤è¯åŠŸèƒ½æ­£å¸¸
- âœ… å‰ç«¯é¡µé¢ç»“æ„å®Œæ•´
- âŒ åç«¯ä¸šåŠ¡APIå¤§å¤šæœªå®ç°æˆ–æœ‰é—®é¢˜
- âŒ ç½‘å…³é…ç½®ä¸å®Œæ•´
- âŒ ç¼ºå°‘APIæ–‡æ¡£

### å»ºè®®ä¼˜å…ˆçº§
1. **P0**: ä¿®å¤åç«¯Controllerå®ç°ï¼Œå®Œæˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘
2. **P1**: å®Œå–„ç½‘å…³è·¯ç”±é…ç½®
3. **P1**: ä¿®å¤AIæœåŠ¡500é”™è¯¯
4. **P2**: æ·»åŠ Swaggeræ–‡æ¡£
5. **P2**: å®Œå–„é”™è¯¯å¤„ç†å’Œå‚æ•°æ ¡éªŒ

### é£é™©æé†’
- å½“å‰ç³»ç»Ÿåªæœ‰ç”¨æˆ·æ¨¡å—å¯ç”¨ï¼Œå…¶ä»–åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨
- éœ€è¦å¤§é‡åç«¯å¼€å‘å·¥ä½œæ‰èƒ½å®Œæˆæ ¸å¿ƒåŠŸèƒ½

---

*æµ‹è¯•æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026-02-23 02:58*
*æµ‹è¯•å·¥ç¨‹å¸ˆ: QAæµ‹è¯•å›¢é˜Ÿ*
