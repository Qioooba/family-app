# 🚀 家庭小程序 - 优先级开发清单

> 创建时间: 2026-02-21
> 原则: 先让项目跑起来，再完善功能

---

## 🔴 P0 - 最紧急（项目不完整）

### 1. 前端API对接 [2-3天]
**目标**: 让前端页面能真正调用后端API，不是摆设
**现状**: 前端页面有UI没功能，按钮点了没反应

#### 1.1 用户模块 [0.5天]
- [ ] 注册页调通 POST /api/user/register
- [ ] 登录页调通 POST /api/user/login
- [ ] 登录后存储token
- [ ] 个人中心显示真实用户信息 GET /api/user/info

#### 1.2 任务模块 [0.5天]
- [ ] 任务列表调通 GET /api/task/list
- [ ] 创建任务调通 POST /api/task/create
- [ ] 完成任务调通 PUT /api/task/{id}/complete
- [ ] 删除任务调通 DELETE /api/task/{id}

#### 1.3 其他模块 [1-1.5天]
- [ ] 心愿模块API对接
- [ ] 菜谱模块API对接
- [ ] 纪念日模块API对接
- [ ] 投票模块API对接
- [ ] 家庭圈模块API对接
- [ ] 购物模块API对接
- [ ] 游戏模块API对接

---

## 🟡 P1 - 尽快做（后端已好，只差前端）

### 2. 子任务功能前端 [0.5天]
**后端**: ✅ 已完成 SubtaskController
**前端待做**:
- [ ] 任务详情页显示子任务列表
- [ ] 添加子任务输入框
- [ ] 子任务勾选完成
- [ ] 删除子任务按钮

### 3. 家务排班表前端 [0.5天]
**后端**: ✅ 已完成 ScheduleController
**前端待做**:
- [ ] 新增"排班表"页面
- [ ] 周视图展示排班
- [ ] 今日值班显示

### 4. 体重记录前端 [0.5天]
**后端**: ✅ 已完成 WeightController
**前端待做**:
- [ ] 饮食记录页添加体重入口
- [ ] 体重记录弹窗（输入体重）
- [ ] 体重趋势曲线图

---

## 🟡 P1 - 重要功能

### 5. 重复任务功能 [1天]
**数据库**: ✅ 已有repeat_type, repeat_rule字段
**后端待做**:
- [ ] POST /api/task/{id}/repeat - 设置重复规则
- [ ] 定时任务生成器（每天凌晨生成当日任务）
**前端待做**:
- [ ] 任务创建页添加重复设置选项
- [ ] 重复规则选择器（每天/每周/每月）

### 6. 扫码录入功能 [1天]
**后端待做**:
- [ ] POST /api/shopping/scan - 扫码识别商品
- [ ] 对接条码库（或自建简单库）
**前端待做**:
- [ ] 购物页添加扫码按钮
- [ ] 调用相机扫码界面
- [ ] 扫码结果确认弹窗

---

## 🟢 P2 - 可以做

### 7. 积分商城完成 [0.5天]
**后端**: 🔄 CouponController需完善
- [ ] POST /api/game/coupon/exchange - 兑换券
- [ ] GET /api/game/my-coupons - 我的券
- [ ] POST /api/game/coupon/use - 使用券
**前端待做**:
- [ ] 券详情页
- [ ] 兑换确认弹窗
- [ ] 我的券包页面

### 8. 心愿预算和里程碑 [0.5天]
**数据库**: ✅ 表已存在
**后端待做**:
- [ ] 预算API
- [ ] 里程碑API
**前端待做**:
- [ ] 心愿卡片显示预算进度
- [ ] 里程碑时间线

### 9. 价格追踪 [0.5天]
**数据库**: ✅ price_history表已存在
**后端待做**:
- [ ] 记录价格API
- [ ] 价格趋势API
**前端待做**:
- [ ] 价格曲线图

---

## 🔵 P3 - 锦上添花

### 10. 纪念日增强 [1天]
- [ ] 农历支持
- [ ] 多级提醒设置
- [ ] 贺卡生成

### 11. 健康增强 [1天]
- [ ] 营养成分分析
- [ ] 喝水打卡

### 12. 家庭报告 [1.5天]
- [ ] 报告生成
- [ ] 数据可视化

### 13. 其他 [1天]
- [ ] 多家庭切换
- [ ] 深色模式
- [ ] 数据导出

---

## 📅 开发顺序建议

| 顺序 | 功能 | 预计时间 | 完成后状态 |
|------|------|----------|-----------|
| 1 | 用户登录API对接 | 0.5天 | 能登录注册 |
| 2 | 任务模块API对接 | 0.5天 | 任务可用 |
| 3 | 子任务前端 | 0.5天 | 任务更完善 |
| 4 | 体重记录前端 | 0.5天 | 健康功能可用 |
| 5 | 其他模块API对接 | 1天 | 全项目可用 |
| 6 | 重复任务 | 1天 | 高频功能 |
| 7 | 扫码录入 | 1天 | 购物更方便 |
| 8 | 积分商城完成 | 0.5天 | 游戏闭环 |
| 9+ | P2/P3功能 | 5天 | 锦上添花 |

**总计: 约10天完成P0+P1，项目达到可用状态**

---

## 🎯 当前焦点

正在开发: **P0 - 前端API对接**

下一步: **P1 - 子任务/排班表/体重记录前端**

---

**确认开发顺序后，立即开始编码！**
