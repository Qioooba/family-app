# QAæŒç»­æµ‹è¯•çŠ¶æ€æŠ¥å‘Š

## ğŸ“Š é¦–æ¬¡å…¨é¢å®¡æŸ¥ç»“æœ (2026-02-22 01:15)

### ğŸš¨ ä¸¥é‡é—®é¢˜æ±‡æ€»

| ç±»åˆ« | æ•°é‡ | çŠ¶æ€ |
|------|------|------|
| P0-é˜»å¡é—®é¢˜ | 6 | ğŸ”´ å¾…ä¿®å¤ |
| P1-é«˜ä¼˜å…ˆçº§ | 6 | ğŸŸ¡ å¾…ä¿®å¤ |
| P2-ä¸­ä¼˜å…ˆçº§ | 4 | ğŸŸ¢ å¾…è§„åˆ’ |
| P3-ä»£ç è§„èŒƒ | 3 | ğŸ”µ é•¿æœŸè§„åˆ’ |

---

### ğŸ”´ P0 - é˜»å¡çº§åˆ«é—®é¢˜

#### Q007 - ç¼–è¯‘é”™è¯¯ (ä¾èµ–é—®é¢˜)
**ç±»å‹**: ç¼–è¯‘é”™è¯¯
**ä½ç½®**: backend/pom.xml (common-coreæ¨¡å—)
**æè¿°**: 
- bucket4j-core 8.7.0 ä¾èµ–æ— æ³•ä»Maven Centralä¸‹è½½
- Lombokä¸Java 17å…¼å®¹æ€§é—®é¢˜å¯¼è‡´user-serviceç¼–è¯‘å¤±è´¥

**å»ºè®®**: 
1. æ›´æ¢bucket4jç‰ˆæœ¬æˆ–ä»“åº“æº
2. å‡çº§Lombokåˆ°1.18.30+
3. æ£€æŸ¥maven-compiler-pluginé…ç½®

**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q008 - TaskControlleré‡å¤å®šä¹‰
**ç±»å‹**: æ¶æ„é—®é¢˜
**ä½ç½®**: 
- backend/family-service/task-service/src/.../TaskController.java
- backend/family-service/family-service/src/.../TaskController.java

**æè¿°**: ä¸¤ä¸ªå¾®æœåŠ¡ä¸­éƒ½å®šä¹‰äº†TaskControllerï¼Œä¼šå¯¼è‡´è·¯ç”±å†²çª

**å»ºè®®**: 
1. ç¡®å®štask-serviceä¸ºä»»åŠ¡ä¸»æœåŠ¡
2. åˆ é™¤family-serviceä¸­çš„TaskController
3. ç»Ÿä¸€æ¥å£è·¯å¾„ä¸º `/task` (ä¸å‰ç«¯ä¸€è‡´)

**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q011 - ExportControlleræ— æƒé™æ ¡éªŒ
**ç±»å‹**: å®‰å…¨é—®é¢˜
**ä½ç½®**: backend/family-service/family-service/.../ExportController.java

**æè¿°**: `exportFamilyData`æ¥å£å…è®¸ä»»ä½•äººå¯¼å‡ºä»»æ„å®¶åº­æ•°æ®ï¼Œæ— ç”¨æˆ·èº«ä»½æ ¡éªŒ

**å»ºè®®**: 
```java
@SaCheckLogin
@GetMapping("/family-data")
public Result<Map<String, Object>> exportFamilyData(@RequestParam Long familyId) {
    Long userId = StpUtil.getLoginIdAsLong();
    // æ ¡éªŒç”¨æˆ·æ˜¯å¦å±äºè¯¥å®¶åº­
    if (!familyService.isFamilyMember(familyId, userId)) {
        return Result.error("æ— æƒé™å¯¼å‡ºæ­¤å®¶åº­æ•°æ®");
    }
    // ...
}
```

**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q014 - UserControlleré‡å¤å®šä¹‰
**ç±»å‹**: æ¶æ„é—®é¢˜
**ä½ç½®**:
- backend/family-service/user-service/.../UserController.java
- backend/family-service/family-service/.../UserController.java

**æè¿°**: ä¸¤ä¸ªå¾®æœåŠ¡ä¸­éƒ½å®šä¹‰äº†UserController

**å»ºè®®**: åˆ é™¤family-serviceä¸­çš„UserControllerï¼Œä¿ç•™user-serviceä¸­çš„ç‰ˆæœ¬

**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q018 - MomentsControllerç¼ºå¤±
**ç±»å‹**: åŠŸèƒ½ç¼ºå¤±
**ä½ç½®**: frontend/src/api/moments.js

**æè¿°**: å‰ç«¯è°ƒç”¨ `/api/moments/xxx` æ¥å£ï¼Œä½†åç«¯ä¸å­˜åœ¨å¯¹åº”çš„MomentsController

**æ¶‰åŠæ¥å£**:
- POST /api/moments/create
- GET /api/moments/feed/{familyId}
- POST /api/moments/{momentId}/like
- POST /api/moments/{momentId}/comment
- GET /api/moments/{momentId}/comments
- DELETE /api/moments/{momentId}

**å»ºè®®**: åœ¨é€‚å½“çš„æœåŠ¡æ¨¡å—ä¸­åˆ›å»ºMomentsControllerå®ç°ä¸Šè¿°æ¥å£

**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q019 - ScheduleControllerç¼ºå¤±
**ç±»å‹**: åŠŸèƒ½ç¼ºå¤±
**ä½ç½®**: frontend/src/api/schedule.js

**æè¿°**: å‰ç«¯è°ƒç”¨ `/schedule/xxx` æ¥å£ï¼Œä½†åç«¯ä¸å­˜åœ¨ScheduleController

**æ¶‰åŠæ¥å£**:
- POST /schedule/create
- GET /schedule/list/{familyId}
- GET /schedule/today/{familyId}
- DELETE /schedule/{id}

**å»ºè®®**: åˆ›å»ºScheduleControllerå®ç°æ’ç­åŠŸèƒ½

**è´Ÿè´£**: åç«¯å¼€å‘

---

### ğŸŸ¡ P1 - é«˜ä¼˜å…ˆçº§é—®é¢˜

#### Q001 - Wishè·¯å¾„ä¸åŒ¹é…
**ç±»å‹**: æ¥å£ä¸ä¸€è‡´
**ä½ç½®**: api/wish.js vs WishController.java
**æè¿°**: å‰ç«¯è·¯å¾„ `/wish/xxx`ï¼Œåç«¯è·¯å¾„ `/api/wish/xxx`
**å»ºè®®**: ç»Ÿä¸€ä¿®æ”¹ä¸º `/wish` æˆ–å‰ç«¯æ·»åŠ  `/api` å‰ç¼€
**è´Ÿè´£**: å‰åç«¯åè°ƒ

---

#### Q002/Q020 - Userè·¯å¾„ä¸åŒ¹é…
**ç±»å‹**: æ¥å£ä¸ä¸€è‡´
**ä½ç½®**: api/user.js vs UserController.java
**æè¿°**: 
- å‰ç«¯: `/api/user/switch-family`, `/api/user/current`, `/api/export/family-data`
- åç«¯: `/user/xxx` (user-service) å’Œ `/api/user/switch-family` (family-service)

**å»ºè®®**: ç»Ÿä¸€è·¯å¾„è§„èŒƒ
**è´Ÿè´£**: å‰åç«¯åè°ƒ

---

#### Q003 - è·¯å¾„å‰ç¼€ä¸ç»Ÿä¸€
**ç±»å‹**: æ¥å£ä¸ä¸€è‡´
**æè¿°**: å„Controllerè·¯å¾„å‰ç¼€æ··ä¹±ï¼š
- `/xxx` (task, family, vote, wish)
- `/api/xxx` (user, export, moments, game)
- `/api/game/xxx` (PointsCouponController)

**å»ºè®®**: åˆ¶å®šç»Ÿä¸€è§„èŒƒï¼Œå»ºè®®æ‰€æœ‰APIä½¿ç”¨ `/api/{module}` å‰ç¼€
**è´Ÿè´£**: åç«¯æ¶æ„

---

#### Q012 - logoutåŠŸèƒ½ä¸å®Œæ•´
**ç±»å‹**: åŠŸèƒ½ç¼ºé™·
**ä½ç½®**: UserController.java (user-service)
**æè¿°**: logoutæ–¹æ³•æœªè°ƒç”¨ StpUtil.logout()
**å»ºè®®**: 
```java
@PostMapping("/logout")
public Result<Void> logout() {
    StpUtil.logout();
    return Result.success();
}
```
**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q015 - ç¡¬ç¼–ç userId
**ç±»å‹**: ä»£ç ç¼ºé™·
**ä½ç½®**: family-service/UserController.java switchFamilyæ–¹æ³•
**æè¿°**: `Long userId = 1L; // TODO: ä½¿ç”¨Sa-Tokenè·å–`
**å»ºè®®**: ä½¿ç”¨ `StpUtil.getLoginIdAsLong()` è·å–å½“å‰ç”¨æˆ·ID
**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q021 - Couponè·¯å¾„ä¸åŒ¹é…
**ç±»å‹**: æ¥å£ä¸ä¸€è‡´
**ä½ç½®**: api/coupon.js vs PointsCouponController.java
**æè¿°**: 
- å‰ç«¯: `/api/coupons`, `/api/coupon`, `/api/coupon/{id}/use`
- åç«¯: `/api/game/coupon/list/{familyId}`, `/api/game/coupon/exchange`

è·¯å¾„å®Œå…¨ä¸åŒ¹é…ï¼
**è´Ÿè´£**: å‰åç«¯åè°ƒ

---

### ğŸŸ¢ P2 - ä¸­ä¼˜å…ˆçº§é—®é¢˜

#### Q004/Q005 - Vote/Familyè·¯å¾„å·²åŒ¹é… âœ…
ç»è¿‡æ£€æŸ¥ï¼Œè¿™ä¸¤ä¸ªæ¨¡å—çš„å‰åç«¯è·¯å¾„æ˜¯ä¸€è‡´çš„ï¼š
- Vote: å‰åç«¯éƒ½ä½¿ç”¨ `/vote/xxx` âœ…
- Family: å‰åç«¯éƒ½ä½¿ç”¨ `/family/xxx` âœ…

---

#### Q016/Q017 - å­—æ®µå‘½åä¸ä¸€è‡´
**ç±»å‹**: å­—æ®µä¸ä¸€è‡´
**ä½ç½®**: task/create.vue vs Task.java
**æè¿°**: 
- deadline vs dueTime
- category vs categoryId
**è´Ÿè´£**: å‰ç«¯/åç«¯åè°ƒ

---

#### Q013 - getUserByIdæ— æƒé™æ ¡éªŒ
**ç±»å‹**: å®‰å…¨é—®é¢˜
**ä½ç½®**: UserController.java
**å»ºè®®**: æ·»åŠ  `@SaCheckLogin` æ³¨è§£
**è´Ÿè´£**: åç«¯å¼€å‘

---

#### Q022 - RecipeControlleréœ€ç¡®è®¤
**ç±»å‹**: å¾…ç¡®è®¤
**æè¿°**: RecipeControllerè·¯å¾„éœ€ç¡®è®¤æ˜¯å¦ä¸å‰ç«¯ `/recipe/xxx` ä¸€è‡´
**è´Ÿè´£**: QAéªŒè¯

---

### ğŸ”µ P3 - ä»£ç è§„èŒƒé—®é¢˜

#### Q006 - å¯¼å…¥æ–¹å¼ä¸ç»Ÿä¸€
**ç±»å‹**: ä»£ç è§„èŒƒ
**ä½ç½®**: å‰ç«¯æ‰€æœ‰api/*.js
**æè¿°**: æœ‰çš„ä½¿ç”¨ `@/utils/request`ï¼Œæœ‰çš„ä½¿ç”¨ `../utils/request`
**å»ºè®®**: ç»Ÿä¸€ä½¿ç”¨ `@/` ç»å¯¹è·¯å¾„
**è´Ÿè´£**: å‰ç«¯å¼€å‘

---

#### Q009 - æƒé™æ£€æŸ¥æ–¹å¼ä¸ä¸€è‡´
**ç±»å‹**: ä»£ç è§„èŒƒ
**æè¿°**: éƒ¨åˆ†Controllerä½¿ç”¨Sa-Tokenï¼Œéƒ¨åˆ†ä¸ä½¿ç”¨ï¼Œéƒ¨åˆ†ç¡¬ç¼–ç ç”¨æˆ·ID
**å»ºè®®**: ç»Ÿä¸€æƒé™æ£€æŸ¥æ¨¡å¼
**è´Ÿè´£**: åç«¯å¼€å‘

---

## ğŸ“ˆ ç›‘æ§çŠ¶æ€

- **ç›‘æ§å¼€å§‹æ—¶é—´**: 2026-02-22 01:14:29
- **é¢„è®¡ç»“æŸæ—¶é—´**: 2026-02-22 07:14:29
- **ç›‘æ§çŠ¶æ€**: ğŸŸ¢ è¿è¡Œä¸­
- **æ—¥å¿—æ–‡ä»¶**: qa_monitor.log

---

## ğŸ”„ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³ä¿®å¤P0é—®é¢˜** (é˜»å¡ç¼–è¯‘å’Œå¯åŠ¨)
2. **åè°ƒå‰åç«¯ç»Ÿä¸€APIè·¯å¾„è§„èŒƒ**
3. **è¡¥å……ç¼ºå¤±çš„Controller** (Moments, Schedule)
4. **è§£å†³Controlleré‡å¤é—®é¢˜**
5. **æ·»åŠ ç¼ºå¤±çš„æƒé™æ ¡éªŒ**

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026-02-22 01:15:00*
*QAå·¥ç¨‹å¸ˆ: æŒç»­æµ‹è¯•æ¨¡å¼*
